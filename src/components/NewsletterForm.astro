---
import Button from "./Button.astro";

const { visible, hero } = Astro.props;
interface Props {
	visible: boolean;
	hero: boolean;
}
let randomNum = Math.random() * 10000;
---

<div class:list={["formWrapper", { hero }]}>
	<h2 class:list={[{ visible }]}>Ready to start?</h2>
	<form class:list={[{ hero }, "newsletterForm"]}>
		<input
			placeholder="Enter email address"
			type="email"
			name="email"
			id=`email${randomNum}`
		/>
		<Button buttonType="submit" variant="primary mobile-menu">
			Schedule a Demo
		</Button>
	</form>
</div>

<style lang="scss">
	.formWrapper {
		margin-inline: 1.5rem;
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 2rem;
	}

	h2 {
		color: var(--primary-200);
		font-size: clamp(1.5rem, 8vw, 2.5rem);
		display: none;
	}
	.visible {
		display: block;
	}
	form {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 1rem;
		width: 100%;
		input {
			border-radius: 100vw;
			width: 100%;
			padding: 1rem 1.5rem;
			border: 0;
			box-shadow: 10px 10px 25px -10px rgba(54, 83, 107, 0.25);
			background-color: transparent;
			z-index: 100;
		}
	}
	@media only screen and (min-width: 768px) {
		.formWrapper {
			justify-content: center;
			align-items: center;
		}
		h2 {
			font-size: clamp(1.5rem, 6vwvw, 2.5rem);
		}
		form {
			flex-direction: row;
			margin-inline: auto;
			width: 100%;
			box-shadow: 10px 10px 25px -10px rgba(54, 83, 107, 0.25);
			background-color: var(--accent-100);
			opacity: 1;
			border-radius: 100vw;
			position: relative;
			max-width: 500px;

			input {
				width: fit-content;
				flex-grow: 1;
				box-shadow: none;
				z-index: 100;

				background-color: transparent;
			}
		}
	}

	@media only screen and (min-width: 1366px) {
		.formWrapper {
			flex-direction: row;
			margin-inline: 10vw;
			justify-content: space-between;
		}

		form {
			width: 50%;
			margin: 0;

			input {
				flex-grow: 1;
				box-shadow: none;
			}
		}

		h2 {
			font-size: clamp(2rem, 4vw, 4rem);
		}
		form.hero {
			width: 100%;
			margin: 0;

			input {
				flex-grow: 1;
			}
		}
		div.hero {
			flex-direction: row;
			margin: 0;
			justify-content: space-between;
		}
	}
	@media only screen and (min-width: 2559px) {
		form {
			max-width: 700px;
			input {
				font-size: clamp(1rem, 1vw, 2rem);
			}
		}
	}
</style>
